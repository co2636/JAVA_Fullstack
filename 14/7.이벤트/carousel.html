<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>캐러셀</title>
  <link rel="stylesheet" href="css/carousel.css">


</head>
<body>
  <p>좌우 화살표를 눌러 보세요</p>

  <!-- 캐러셀 영역 -->
  <div id="container">
    <!-- 왼쪽 화살표 -->
    <div class="arrow" id="left">&lang;</div>
    <!-- 오른쪽 화살표 -->
    <div class="arrow" id="right">&rang;</div>
  </div>

  <script>
    //캐러셀 영역 <div id="container"> 선택
    const container = document.querySelector("#container");
    
    //이미지명 문자열을 저장한 배열
    const pics = ['pic-1.jpg', 'pic-2.jpg', 'pic-3.jpg', 'pic-4.jpg', 'pic-5.jpg' ];
    //                 0             1            2           3             4        index

    // 캐러셀 영역에 배경이미지를 첫번재 이미지 기본으로 표시
    container.style.backgroundImage = `url(images/${pics[0]})`;

    // < 화살표 <div>, > 화살표 <div> 모두 배열에 담아서 선택
    const arrows = document.querySelectorAll(".arrow");
    // 배열
    // [ <div class="arrow" id="left">&lang;</div> , <div class="arrow" id="right">&rang;</div> ]
    //                      0                                           1                           index

    let i = 0; //베열의 인덱스 위치 번호

    arrows.forEach( arrow => {

      //< , > 화살표 <div>영역에 각각 click 이벤트 등록
      arrow.addEventListener("click",(e) => {
        
        //이벤트가 발생한 왼쪽 화살표 < <div>를 선택해서 가져와
          //왼쪽 화살표 영역을 클릭했다면? if문

          if(e.target.id === 'left'){
            i--; // 이전 이미지로 이동
            if(i < 0){//  첫번째 이미지?

              i = pics.length -1; //맨 마지막 이미지로 이동

            }
          }//바깥 if
          else if(e.target.id === "right"){ //오른쪽 화살표 클릭?
            i++; // 다음 이미지로 이동
            if(i >= pics.length){// 마지막 이미지라면?

              i = 0; // 첫번째 이미지 명이 저장된 index로 만들어주자

            }
          }

          //캐러셀 영역에 배경이미지 설정해서 표시
          container.style.backgroundImage = `url(images/${pics[i]})`;

      });
      
    });



  </script>
  

</body>
</html>