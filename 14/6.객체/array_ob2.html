<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배열2</title>
</head>
<body>
  <script>
    //주제 : 배열 생성 및 요소 접근

    // fruits라는 배열 참조변수를 선언하고 "Apple","Banana","Cherry"라는 세 개의 문자열을 요소로 가지는 배열을 할당한다.

    let fruits = [ "Apple", "Banana", "Cherry" ];

    // fruits배열의 첫 번째 요소인 "Apple"을 얻어와 출력
    let no1 = fruits[0];
    console.log(no1);

    // fruits배열에 저장된 요소의 총 갯수를 얻어 출력
    let num = fruits.length;
    console.log(num);


// 배열에서 제공해주는 메소드 이용!!

    //배열 메모리의 가장 마지막 index2 위치 뒤에 "Date"요소 추가
    fruits.push("Date"); //  [ "Apple", "Banana", "Cherry", "Date" ];
    console.log(fruits);


    //배열 메모리의 가장 마지막 index3 위치의 "Date"요소를 제거하고 그 값을 반환해오자
    // 반환한 "Date" 요소를 출력
    // 그리고 다시 fruits 배열의 변화된 모습 출력
    let re = fruits.pop(); // [ "Apple", "Banana", "Cherry" ];
    console.log(re); // "Date"
    console.log(fruits); 


    //배열메모리의 가장 첫번째 저장된 "Apple"요소를 제거하고 그 값을 반환해오자
    //반환한 "Apple" 요소를 출력
    // 그리고 다시 fruist 배열의 변화된 모습 출력
    let re2 = fruits.shift();
    console.log(re2);
    console.log(fruits); // [ "Banana", "Cherry" ];


    // 배열 매모리의 0index위치 앞에(가장 앞위치에) "Avocado"를 추가한다. 
    // 그리고 다시 fruist 배열의 변화된 모습 출력
    fruits.unshift("Avocado"); // [ "Avocado", "Banana", "Cherry" ];
    console.log(fruits);

    // let fruits = [ "Avocado", "Banana", "Cherry" ]; <- 현재 배열 모습
    //                    0           1         2

    //반복 메소드 사용!
      //fruits 배열 메모리에 저장된 각 요소를 차례대로 반복해서 얻어 출력
      // 단! forEach메소드 사용!

      //형태1.
      fruits.forEach(function(fruit){ console.log(fruit); });

      //형태2.
      //이 경우 각 요소를 console.log로 출력하므로 "Avocado", "Banana", "Cherry"
      fruits.forEach( fruit =>  console.log(fruit) );

    // let fruits = [ "Avocado", "Banana", "Cherry" ]; <- 현재 배열 모습
    //                    0           1         2

      //반복 메서드2
      //map()메소드
      // - 배열의 각 요소에 대해 주어진 콜백함수를 호출하고, 그 결과로 새로운 배열을 생성해서 새로운 배열 자체를 반환하는 메소드
      // - 이 메소드는 배열에 저장된 원본 데이터를 변경하지 않고 계산에 의해 새로운 배열에 넣어 새로운 배열 자체를 반환한다.

      let upperFriuts = fruits.map(function(fruit){ 
        //"Avocado".toUpperCase();  -> "AVOCADO"; 대문자로 변환 
        //"Banana".toUpperCase();   -> "BANANA";
        //"Cherry".toUpperCase();   -> "CHERRY";  
        return fruit.toUpperCase();
        // 새로운 배열 생성됨 -> [ "AVOCADO", "BANANA", "CHERRY" ];

      });

      console.log(upperFriuts);

      // 화살표 함수 
      let upperFriuts2 = fruits.map((fruit) =>  fruit.toUpperCase() );

      console.log(upperFriuts2);

      //보충  map()메소드

      let numbers = [1, 2, 3, 4, 5];
      //            0  1  2  3  4

      // numbers  배열 메모리에 저장되어 있는 모든 요소를 차례로 반복해서 얻어
      //  1요소 -> 1 * 1  -> 1              새로운 배열 자동 생성 [1]
      //  2요소 -> 2 * 2  -> 4                               [1, 4]
      //  3요소 -> 3 * 3  -> 9                               [1, 4, 9]
      //  4요소 -> 4 * 4  -> 16                              [1, 4, 9, 16]
      //  5요소 -> 5 * 5  -> 25                              [1, 4, 9, 16, 25]


      let newNumbers = numbers.map(function(number){ return number * number;});

      //일반 for반복문을 이용해 newNumbers배열에 저장된 요소들을 각각 차례로 얻어 출력

      for(let i=0; i < newNumbers.length;i++){

        console.log(newNumbers[i]);
        
      } 

      // newNumbers.forEach(no => console.log(no));




1/* 챰고

      let numbers2 = [1, 2, 3];

      let context = {value: "Hello"};

      let newNumbers2 = numbers2.map(function(number){
      
        return this.value; //현재 context 객체의 value값 반환
      
      }, context); // map 메소드의 두 번째 인자로 특정 객체의 속성값들을 얻어 새로운 배열에 담아 새로운 배열을 반환할 수 있다.

      console.log(newNumbers2); // ["Hello", "Hello", "Hello"]
*/

  // let fruits = [ "Avocado", "Banana", "Cherry" ]; <- 현재 배열 모습
    //                    0           1         2

    // 배열 객체가 제공하는 find()메소드 

    //조건에 맞는 요소 찾기
    // 배열의 요소 중 조건을 만족하는 첫 번째 요소를 반환한다.
    // 여기서는 요소가 "B"로 시작하는 첫 번째 과일을 찾기 위해 fruit.startsWith("B"); 조건검사 메소드를 호출한 것이다.

    let foundFruit = fruits.find( fruit => fruit.startsWith("B")); //"Banana"
    console.log(foundFruit);
    

  // let fruits = [ "Avocado", "Banana", "Cherry" ]; <- 현재 배열 모습
    //                    0           1         2

    // 배열에 저장된 일부 요소 추출해서 새로운 배열로 만들어 반환
    // -> slice(index)메소드
    // - 배열에 특정 부분을 잘라서 새로운 배열을 만들어 반환하는 메소드

      // 여기서는 index 1부터 배열의 끝 index 위치까지의 데이터를 잘라서 새로운 배열을 반환한다. 
      // ["Banana", "Cherry"]

    let someFruits = fruits.slice(1);
    console.log(someFruits);

  </script>
</body>
</html>