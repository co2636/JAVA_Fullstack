<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>정규표현객체2</title>
</head>
<body>
  <script>
    //순서1. 검사할 문자열
    let userName = prompt("이름을 입력하시오.");

    //순서2. 정규표현식 작성 "2자에서 5자사이의 한글로만 이루어진 문자열"인지 검사하는 식
    let reg1 = /^[가-힣]{2,5}$/;
    //^      : 문자열의 시작을 나타냄.
    //[가-힣] : 한글 음절 범위를 지정함. 즉, 한글로 입력했는지 판단하는 식
    //{2,5}  : 앞의 패턴 [가-힣]이 2회 이상 5회 이하 반복됨을 의미
    //         요약 : 한글을 2자에서 5자 사이로 입력 했는지 판단하는 식
    // $     : 문자열의 끝을 나타내는 기호. 

    //순서3. test메소드 이용하여 정규표현식 패턴에 맞게 입력했는지 검사할 문자열 검사
    while(true){ //무한 반복
      //우리가 입력한 이름(userName) 검사할 문자열이 reg1변수에 저장된 정규표현식의 패턴에 맞게 입력했다면 test메소드는 true반환함
      // 요약 : 입력한 이름이 "2자에서 5자사이의 한글로만 이루어진 문자열"이라면?
      if(reg1.test(userName)){
        break; //검사를 중단하고 while 반복문 빠져나감
      }
      //"2자에서 5자사이의 한글로만 이루어진 문자열"이 아니라면?
      alert("이름 입력 형식이 잘못되었습니다.");
      
      userName = prompt("이름을 입력하시오."); // 사용자에게 이름을 다시 입력 받을 수 있게 함.

    }
    // ------------------------------------------------------------------------
    //순서1. 검사할 문자열
    let userCell = window.prompt("휴대폰 번호를 입력하시오.");


    //순서2. 정규표현식 작성
    //      입력한 번호 문자열에 "010, 016 또는 011로 시작하고" 그 뒷자리는 3 ~ 4사이의 숫자와 마지막자리 입력은 4개의 숫자가 이어지는
    //      핸드본 번호 전체 문자열을 검사하는 정규표현식 작성
    let reg2 = /^(010|016|011)\d{3,4}\d{4}$/;
    // ^  : 문자열의 시작을 나타내는 기호
    //(010|016|011) : 010 또는 016 또는 011 중 하나와 일치하는지 검사의 의미
    //\d{3,4} : 숫자가 3자에서 4자로 입력했는지 검사의 의미
    //\d{4}$  : 마지막 입력 자리($)에는 숫자(\d)로 4자{4}로 입력했는지 검사의 의미 


    //순서3. 검사 test메소드 사용
    while(true){//올바른 핸드폰 번호를 입력할 때까지 무한 반복해서 입력하게 유도
      //정규표현식객체.test("검사할문자열");
      //입력한 검사할 문자열(핸드폰 번호)이 reg2 정규표현객체의 식 패턴에 맞게 입력했으면 test메소드는 true반환, 그렇지 않으면 false반환
      let result = reg2.test(userCell);
      
      if(result == true){ //제대로 입력했다면?
        break;
      }
      //제대로 입력하지 않았다면?
      alert("핸드폰 번호 입력형식이 잘못되었다.");
      
      userCell = prompt("핸드폰 번호");

    }

    //------------------------------------------------------------------------------------------------------------

    

  </script>
</body>
</html>